<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}RipForge{% endblock %}</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ”¥</text></svg>">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    {% block head %}{% endblock %}
</head>
<body>
    <nav class="sidebar">
        <div class="logo">
            <span class="logo-icon">ğŸ”¥</span>
            <span class="logo-text">RipForge</span>
        </div>
        <ul class="nav-links">
            <li><a href="/" class="{% if request.endpoint == 'main.index' %}active{% endif %}">
                <span class="nav-icon">ğŸ“€</span> Dashboard
            </a></li>
            <li><a href="/history" class="{% if request.endpoint == 'main.history' %}active{% endif %}">
                <span class="nav-icon">ğŸ“œ</span> History
            </a></li>
            <li><a href="/notifications" class="{% if request.endpoint == 'main.notifications' %}active{% endif %}">
                <span class="nav-icon">ğŸ””</span> Notifications
            </a></li>
            <li><a href="/settings" class="{% if request.endpoint == 'main.settings' %}active{% endif %}">
                <span class="nav-icon">âš™ï¸</span> Settings
            </a></li>
        </ul>

        <!-- Quick Stats in Sidebar -->
        <div class="sidebar-stats">
            <div class="sidebar-stats-header">Quick Stats</div>
            <div class="sidebar-stat-row">
                <span class="stat-label">Today</span>
                <span class="stat-value" id="stat-today">0</span>
            </div>
            <div class="sidebar-stat-row">
                <span class="stat-label">This Week</span>
                <span class="stat-value" id="stat-week">0</span>
            </div>
            <div class="sidebar-stat-row">
                <span class="stat-label">All Time</span>
                <span class="stat-value" id="stat-total">0</span>
            </div>
            <div class="sidebar-stat-row">
                <span class="stat-label">Errors</span>
                <span class="stat-value error" id="stat-errors">0</span>
            </div>
            <div class="sidebar-stat-divider"></div>
            <div class="sidebar-stat-row">
                <span class="stat-label">Avg Blu-ray</span>
                <span class="stat-value" id="stat-avg-bluray">--</span>
            </div>
            <div class="sidebar-stat-row">
                <span class="stat-label">Avg DVD</span>
                <span class="stat-value" id="stat-avg-dvd">--</span>
            </div>
        </div>

        <div class="sidebar-footer">
            <div class="version" id="sidebar-version">v...</div>
        </div>
    </nav>

    <main class="content">
        <header class="topbar">
            <h1>{% block page_title %}Dashboard{% endblock %}</h1>
            <div class="topbar-status">
                <span class="status-indicator" id="drive-status">â— Drive Ready</span>
            </div>
        </header>

        <div class="main-content">
            {% block content %}{% endblock %}
        </div>
    </main>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
